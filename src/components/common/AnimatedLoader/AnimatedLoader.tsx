import { useEffect, useState } from "react";

import { classNames } from "@shared/utils/classNames";

type AnimatedLoaderProps = {
  className?: string;
  isGray?: boolean;
};

const svgStyle = classNames("absolute", "transition-opacity duration-700");

function AnimatedLoader({ className, isGray }: AnimatedLoaderProps) {
  const [index, setIndex] = useState(0);

  useEffect(() => {
    const interval = setInterval(() => {
      setIndex(prev => (prev + 1) % 3);
    }, 1000);

    return () => clearInterval(interval);
  }, []);

  return (
    <div
      className={classNames(
        "relative",
        "m-auto h-[100px] w-[100px] rounded-xl",
        isGray ? "bg-talearnt_BG_Up_02" : "bg-talearnt_Primary_01",
        className
      )}
    >
      {/*마꼬*/}
      <svg
        className={classNames(
          svgStyle,
          index === 0 ? "opacity-100" : "opacity-0"
        )}
        width="100"
        height="100"
        viewBox="0 0 100 100"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M100.635 89.7428V70.2205C96.8835 62.1438 90.528 55.5088 82.6426 51.419C84.5845 48.8591 86.3793 46.0492 87.9682 43.0039C89.7336 39.6349 91.1165 36.2071 92.1316 32.8234C92.6612 31.0433 92.6465 29.175 92.1757 27.4537C91.1312 23.7464 87.2473 21.7161 83.6136 22.9814C81.9217 23.5698 80.3917 24.6291 79.2295 26.0855C77.0375 28.866 75.022 31.9555 73.2713 35.3391C71.2263 39.2524 69.6963 43.2393 68.6371 47.1526C67.1512 46.9908 65.6506 46.8878 64.1206 46.8878C61.0606 46.8878 58.0888 47.2409 55.2348 47.8882C56.0439 42.8715 56.2499 37.4429 55.735 31.8378C55.3525 27.6449 54.5875 23.6434 53.4988 19.8772C52.9251 17.9058 51.807 16.1846 50.3211 14.8605C47.1287 12.0359 42.3032 12.4772 39.6846 15.8462C38.4635 17.4056 37.6838 19.3034 37.4778 21.3484C37.11 25.2469 37.0953 29.3221 37.4778 33.5149C38.1399 40.7236 39.9347 47.4027 42.5239 53.1697C36.9923 56.7005 32.3729 61.5406 29.1216 67.2634C28.5773 67.337 28.0182 67.3811 27.4592 67.3811C26.4588 67.3811 25.4731 67.2634 24.5316 67.0427C24.1932 66.9692 23.8548 66.925 23.4871 66.925C21.0008 66.925 19 68.9405 19 71.4121C19 71.8534 19.0883 72.2801 19.206 72.6773H19.1913C21.5451 79.1357 23.2664 85.8736 24.2815 92.847V92.8175C24.6787 95.4656 25.326 98.0402 26.194 100.497H89.866C95.8095 100.497 100.62 95.6863 100.62 89.7428H100.635Z"
          fill={"#FFFFFF"}
        />
        <path
          d="M45.4104 51.0073C47.0286 50.2129 48.7205 49.5214 50.4417 48.9477C51.398 45.4316 51.7658 41.4448 51.3833 37.2372C51.1773 34.9716 50.7654 32.809 50.1769 30.7935C49.868 29.7343 49.2648 28.7927 48.4557 28.0866C46.7344 26.5566 44.1304 26.8067 42.7181 28.6162C42.0561 29.4548 41.6442 30.4846 41.5265 31.5879C41.3205 33.6917 41.3205 35.8837 41.5265 38.1493C41.9825 43.0189 43.3801 47.4471 45.3956 51.0073H45.4104Z"
          fill={"#FFC2C2"}
        />
        <path
          d="M78.7912 50.0518C80.2183 48.2275 81.4982 46.1532 82.5868 43.8729C83.499 41.9457 84.2051 39.989 84.7053 38.0618C84.9701 37.0467 84.926 36.0022 84.617 35.0459C83.955 32.9863 81.7188 31.927 79.7034 32.7215C78.7618 33.0893 77.9232 33.7219 77.3053 34.5604C76.1284 36.164 75.0692 37.9588 74.1571 39.886C72.9066 42.5194 72.068 45.1969 71.5825 47.7862C74.0835 48.3158 76.4962 49.0808 78.7912 50.0518Z"
          fill={"#FFC2C2"}
        />
        <path
          d="M49.5262 78.5916C50.8912 78.5916 51.9978 77.485 51.9978 76.12C51.9978 74.755 50.8912 73.6484 49.5262 73.6484C48.1612 73.6484 47.0547 74.755 47.0547 76.12C47.0547 77.485 48.1612 78.5916 49.5262 78.5916Z"
          fill={"#1B76FF"}
        />
        <path
          d="M74.6669 78.5916C76.0319 78.5916 77.1384 77.485 77.1384 76.12C77.1384 74.755 76.0319 73.6484 74.6669 73.6484C73.3019 73.6484 72.1953 74.755 72.1953 76.12C72.1953 77.485 73.3019 78.5916 74.6669 78.5916Z"
          fill={"#1B76FF"}
        />
        <path
          d="M62.0434 80.0859L63.3969 80.1154C64.8975 80.1448 65.8243 81.6012 65.1035 82.5281L64.4709 83.3519C64.4709 83.3519 64.4562 83.3666 64.4414 83.3813L64.1766 83.6903C63.0438 84.9702 61.0431 84.9702 59.9103 83.6903L59.6454 83.3813C59.6454 83.3813 59.6307 83.3666 59.616 83.3519L58.9834 82.5281C58.2773 81.6012 59.2041 80.1448 60.69 80.1154L62.0434 80.0859Z"
          fill={"#1B76FF"}
        />
      </svg>
      {/*당근*/}
      <svg
        className={classNames(
          svgStyle,
          index === 1 ? "opacity-100" : "opacity-0"
        )}
        width="100"
        height="100"
        viewBox="0 0 100 100"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M55.3982 40.3006C54.4253 40.6384 53.4843 41.011 52.5433 41.4482L52.6408 41.4029C50.9342 38.639 49.8128 35.2407 49.4227 31.4799C49.2277 29.7582 49.2764 28.0817 49.4227 26.4505C49.5202 25.6349 49.8615 24.8193 50.3979 24.185C51.5681 22.7804 53.7135 22.5991 55.1275 23.7772C55.7614 24.3209 56.2978 25.0459 56.5416 25.8615C56.9804 27.4473 57.3217 29.1238 57.5167 30.8456C57.6361 31.9709 57.672 33.0795 57.6348 34.1618C58.7555 33.2288 59.9946 32.3484 61.3403 31.5359C62.8935 30.5798 64.5161 29.8456 66.1406 29.2127C66.964 28.9164 67.9001 28.821 68.7533 28.97C70.6345 29.2857 71.7984 30.9702 71.3272 32.6798C71.101 33.4534 70.6568 34.2303 69.991 34.808C68.6801 35.9022 67.2376 36.9579 65.6844 37.9139C62.7716 39.6812 59.6732 40.8231 56.7181 41.4358C56.2805 41.0424 55.8433 40.6648 55.3982 40.3006Z"
          fill={isGray ? "#A6B0B5" : "#FFFFFF"}
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M51.2672 73.6303C41.6372 80.7692 27.9604 73.697 29.0627 62.1484L30.7379 44.5967C31.6558 34.9798 42.5575 29.2686 51.3339 33.8068L64.2946 40.5087C70.0375 43.4784 72.3871 49.5526 71.0782 55.0625C70.6493 56.8683 68.5484 57.5095 66.8769 56.6626L51.4183 48.8298C50.2957 48.261 48.889 48.6826 48.2762 49.7715C47.6634 50.8603 48.0767 52.2041 49.1993 52.7729L65.7184 61.1431C66.3721 61.4743 66.4907 62.345 65.9031 62.7805L63.9665 64.2162C62.9178 64.9936 61.5114 65.1118 60.3446 64.5206L51.4183 59.9977C50.2957 59.4289 48.889 59.8505 48.2762 60.9394C47.6634 62.0283 48.0767 63.3721 49.1993 63.9408L53.3206 66.0291C55.5717 67.1697 55.8368 70.2429 53.8134 71.7428L51.2672 73.6303Z"
          fill={isGray ? "#C1C8CC" : "#FF9A27"}
        />
      </svg>
      {/*텍스트 로고*/}
      <svg
        className={classNames(
          svgStyle,
          index === 2 ? "opacity-100" : "opacity-0"
        )}
        width="100"
        height="100"
        viewBox="0 0 100 100"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M61.1146 56.2447C59.0611 55.0591 56.444 55.7691 55.2646 57.812L53.1234 61.5206C50.7584 65.6169 45.5199 67.0204 41.4234 64.6553C37.3269 62.2902 35.9231 57.0517 38.2881 52.9554L44.7116 41.8296L55.8381 48.2535C57.8916 49.4391 60.5086 48.729 61.6881 46.6862C62.8736 44.6328 62.1634 42.0158 60.1204 40.8362L48.9939 34.4124L53.2763 26.9951C54.4618 24.9418 53.7516 22.3247 51.7086 21.1452C49.6656 19.9657 47.038 20.6696 45.8586 22.7125L31.0397 48.3795C26.2372 56.6977 29.025 67.5962 37.4344 72.2419C45.8438 76.8875 55.8656 73.9014 60.5411 65.8032L62.6822 62.0946C63.8677 60.0412 63.1576 57.4242 61.1146 56.2447Z"
          fill={isGray ? "#C1C8CC" : "#FFFFFF"}
        />
      </svg>
    </div>
  );
}

export { AnimatedLoader };
